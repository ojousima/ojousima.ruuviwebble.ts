{"version":3,"file":"angular-ruuvi-endpoints.js","sources":["ng://angular-ruuvi-endpoints/lib/angular-ruuvi-endpoints.service.ts","ng://angular-ruuvi-endpoints/lib/angular-ruuvi-endpoints.component.ts","ng://angular-ruuvi-endpoints/lib/ruuvi-endpoints/ruuvi-endpoints.component.ts","ng://angular-ruuvi-endpoints/lib/angular-ruuvi-endpoints.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularRuuviEndpointsService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-angular-ruuvi-endpoints',\n  template: `\n    <p>\n      angular-ruuvi-endpoints works!\n    </p>\n  `,\n  styles: []\n})\nexport class AngularRuuviEndpointsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-ruuvi-endpoints',\n  templateUrl: './ruuvi-endpoints.component.html',\n  styleUrls: ['./ruuvi-endpoints.component.css']\n})\nexport class RuuviEndpointsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { AngularRuuviEndpointsComponent } from './angular-ruuvi-endpoints.component';\nimport { RuuviEndpointsComponent } from './ruuvi-endpoints/ruuvi-endpoints.component';\n\nexport enum RuuviEndpoint {\n  Acceleration  = 0x4A, //!< XYZ acceleration combined\n  AccelerationX = 0x40, //!< X acceleration\n  AccelerationY = 0x41, //!< Y acceleration\n  AccelerationZ = 0x42, //!< Z acceleration\n  AdcBattery    = 0x20, //!< ADC battery vs GND\n  Temperature   = 0x30, //!< Temperature\n  Humidity      = 0x31, //!< Humidity\n  Pressure      = 0x32, //!< Pressure\n  Environmental = 0x3A, //!< Temperature, humidity, air pressure combined.\n  Rtc           = 0x21  //!< RTC value\n}\n\nexport enum RuuviCommand {\n  SensorConfigurationWrite = (0x02),\n  SensorConfigurationRead  = (0x03),\n  SensorOffsetWrite        = (0x04),\n  SensorOffsetRead         = (0x05),\n  LogConfigurationWrite    = (0x06),\n  LogConfigurationRead     = (0x07),\n  ValueWrite               = (0x08), //!< Sensor reads are acknowledged by setting type as value write\n  ValueRead                = (0x09),\n  TypeError                = (0xFF) //!< internal error has occured\n}\n\nexport interface RuuviStandardMessage{\n\tdestination: RuuviEndpoint,\n\tsource:      RuuviEndpoint,\n\ttype:        RuuviCommand,\n  payload:     DataView\n}\n\n\n@NgModule({\n  declarations: [AngularRuuviEndpointsComponent, RuuviEndpointsComponent],\n  imports: [\n  ],\n  exports: [AngularRuuviEndpointsComponent]\n})\nexport class AngularRuuviEndpointsModule { \n\n  private readonly destinationIndex = 0;\n  private readonly sourceIndex      = 1;\n  private readonly typeIndex        = 2;\n  private readonly payloadIndex     = 3;\n  private readonly payloadLength    = 8;\n\n  destination(rawData: DataView) {\n    return rawData.getUint8(this.destinationIndex);\n  }\n\n  source(rawData: DataView) {\n    return rawData.getUint8(this.sourceIndex);\n  }\n\n  type(rawData: DataView) {\n    return rawData.getUint8(this.typeIndex);\n  }\n\n  payload(rawData: DataView) {\n    return new DataView(rawData.buffer, this.payloadIndex, this.payloadLength);\n  }\n\n  enumToKeys(e: any)\n  {\n    return Object.keys(e).filter((type) => isNaN(<any>type));\n  }\n\n}"],"names":[],"mappings":";;;;;;AAAA,MAKa,4BAA4B;IAEvC,iBAAiB;;;YALlB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;ACJD,MAWa,8BAA8B;IAEzC,iBAAiB;;;;IAEjB,QAAQ;KACP;;;YAdF,SAAS,SAAC;gBACT,QAAQ,EAAE,6BAA6B;gBACvC,QAAQ,EAAE;;;;GAIT;aAEF;;;;;;;;;ACVD,MAOa,uBAAuB;IAElC,iBAAiB;;;;IAEjB,QAAQ;KACP;;;YAVF,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,2CAA+C;;aAEhD;;;;;;;;;ACND;;IAKE,gBAAoB;IACpB,iBAAoB;IACpB,iBAAoB;IACpB,iBAAoB;IACpB,cAAoB;IACpB,eAAoB;IACpB,YAAoB;IACpB,YAAoB;IACpB,iBAAoB;IACpB,OAAoB;;;;;;;;;;;;;;;IAIpB,2BAAiC;IACjC,0BAAiC;IACjC,oBAAiC;IACjC,mBAAiC;IACjC,wBAAiC;IACjC,uBAAiC;IACjC,aAAiC;IACjC,YAAiC;IACjC,cAAiC;;;;;;;;;;;;MAiBtB,2BAA2B;IANxC;QAQmB,qBAAgB,GAAG,CAAC,CAAC;QACrB,gBAAW,GAAQ,CAAC,CAAC;QACrB,cAAS,GAAU,CAAC,CAAC;QACrB,iBAAY,GAAO,CAAC,CAAC;QACrB,kBAAa,GAAM,CAAC,CAAC;KAuBvC;;;;;IArBC,WAAW,CAAC,OAAiB;QAC3B,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAChD;;;;;IAED,MAAM,CAAC,OAAiB;QACtB,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAC3C;;;;;IAED,IAAI,CAAC,OAAiB;QACpB,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACzC;;;;;IAED,OAAO,CAAC,OAAiB;QACvB,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;KAC5E;;;;;IAED,UAAU,CAAC,CAAM;QAEf,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM;;;;QAAC,CAAC,IAAI,KAAK,KAAK,oBAAM,IAAI,GAAC,EAAC,CAAC;KAC1D;;;YAjCF,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,8BAA8B,EAAE,uBAAuB,CAAC;gBACvE,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,8BAA8B,CAAC;aAC1C;;;;;"}